
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>gun.put Â· GunDb</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="get.html" />
    
    
    <link rel="prev" href="constructor.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../crash-course.html">
            
                <a href="../crash-course.html">
            
                    
                    Crash Course
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Core API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="constructor.html">
            
                <a href="constructor.html">
            
                    
                    Gun.constructor
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="put.html">
            
                <a href="put.html">
            
                    
                    gun.put
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="get.html">
            
                <a href="get.html">
            
                    
                    gun.get
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="back.html">
            
                <a href="back.html">
            
                    
                    gun.back
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="opt.html">
            
                <a href="opt.html">
            
                    
                    gun.opt
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../api/path.html">
            
                <a href="../api/path.html">
            
                    
                    gun.path
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../api/on.html">
            
                <a href="../api/on.html">
            
                    
                    gun.on
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../api/val.html">
            
                <a href="../api/val.html">
            
                    
                    gun.val
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../api/set.html">
            
                <a href="../api/set.html">
            
                    
                    gun.set
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../api/map.html">
            
                <a href="../api/map.html">
            
                    
                    gun.map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../api/not.html">
            
                <a href="../api/not.html">
            
                    
                    gun.not
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../api/init.html">
            
                <a href="../api/init.html">
            
                    
                    gun.init
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../api/key.html">
            
                <a href="../api/key.html">
            
                    
                    gun.key
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Resources
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../resources/guns-data-format.html">
            
                <a href="../resources/guns-data-format.html">
            
                    
                    Gun's Data Format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../resources/glossary.html">
            
                <a href="../resources/glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../resources/using-amazon-s3-for-storage.html">
            
                <a href="../resources/using-amazon-s3-for-storage.html">
            
                    
                    Using Amazon S3 for Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../resources/security-authentication-authorization.html">
            
                <a href="../resources/security-authentication-authorization.html">
            
                    
                    Security, Authentication, and Authorization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    More About Gun
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../more-about-gun/how-writes-are-handled.html">
            
                <a href="../more-about-gun/how-writes-are-handled.html">
            
                    
                    How Writes Are Handled
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../more-about-gun/the-mesh-network-protocol.html">
            
                <a href="../more-about-gun/the-mesh-network-protocol.html">
            
                    
                    The Mesh Network Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../more-about-gun/conflict-resolution.html">
            
                <a href="../more-about-gun/conflict-resolution.html">
            
                    
                    Conflict Resolution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" >
            
                <a target="_blank" href="http://gun.js.org/distributed/matters.html">
            
                    
                    How the Algorithm Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../more-about-gun/position-on-the-cap-theorem.html">
            
                <a href="../more-about-gun/position-on-the-cap-theorem.html">
            
                    
                    Position on the CAP Theorem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../more-about-gun/sharding.html">
            
                <a href="../more-about-gun/sharding.html">
            
                    
                    Sharding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../projects.html">
            
                <a href="../projects.html">
            
                    
                    Projects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <a target="_blank" href="https://github.com/gundb/gun/tree/master/examples">
            
                    
                    Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../modules.html">
            
                <a href="../modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../snippets-v06x.html">
            
                <a href="../snippets-v06x.html">
            
                    
                    Snippets (v0.6.x)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Snippets (v0.3.x)(snippets-v03x.md)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <a target="_blank" href="https://github.com/amark/gun/wiki/0.2.x-Table-of-Contents">
            
                    
                    v0.2.x
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >gun.put</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="gunputdata-callback">gun.put(data, callback)</h1>
<p><div style="position: relative;padding-bottom: 56.25%;padding-top: 25px;height: 0;"><iframe style="border: none;position: absolute;top: 0;left: 0;width: 100%;height: 100%" src="http://www.youtube.com/embed/QLg-Z-y5sVo?rel=0" frameborder="0" allowfullscreen></iframe></div></p>
<p>Save data into gun, syncing it with your connected peers.</p>
<p>It has three parameters, and only the first is required:</p>
<ol>
<li>the <code>data</code> to save</li>
<li>an optional <code>callback</code>, invoked on each acknowledgment</li>
</ol>
<p><code>gun.get(&apos;key&apos;).put({hello: &quot;world&quot;}, function(ack){})</code></p>
<p>You do not need to re-save the entire object every time, gun will automatically merge your data into what already exists as a &quot;partial&quot; update.</p>
<h2 id="allowed-types">Allowed types</h2>
<p><code>.put</code> restricts the input to a specific subset:</p>
<ul>
<li><code>objects</code>:
<a href="Partials-and-Circular-References-(v0.2.x">partial</a>),
<a href="Partials-and-Circular-References-(v0.2.x">circular</a>#circular-references), and nested</li>
<li><code>strings</code></li>
<li><code>numbers</code></li>
<li><code>booleans</code></li>
<li><code>null</code></li>
</ul>
<p>Other values, like <code>undefined</code>, <code>NaN</code>, <code>Infinity</code>, <code>arrays</code>, will be rejected.</p>
<blockquote>
<p>Traditional arrays are dangerous in real-time apps. Use <a href="#set">gun.set</a> instead.</p>
<p><strong>Note:</strong> when using <code>.put</code>, if any part of the chain does not exist yet, it will implicitly create it as an empty object.</p>
<pre><code class="lang-javascript">gun.get(<span class="hljs-string">&apos;something&apos;</span>).path(<span class="hljs-string">&apos;that.does.not.exist.yet&apos;</span>).put(<span class="hljs-string">&quot;Hello World!&quot;</span>);
<span class="hljs-comment">// `.put` will if needed, backwards create a document</span>
<span class="hljs-comment">// so &quot;Hello World!&quot; has a place to be saved.</span>
</code></pre>
</blockquote>
<h2 id="callbackack">Callback(ack)</h2>
<ul>
<li><code>ack.err</code>, if there was an error during save.</li>
<li><code>ack.ok</code>, if there was a success message (none is required though).</li>
</ul>
<p>The <code>callback</code> is fired for each peer that responds with an error or successful persistence message, including the local cache. Acknowledgement can be slow, but the write propagates across networks as fast as the pipes connecting them.</p>
<p>If the error property is undefined, then the operation succeeded, although the exact values are left up to the module developer.</p>
<h2 id="examples">Examples</h2>
<p>Saving objects</p>
<pre><code class="lang-javascript">gun.get(<span class="hljs-string">&apos;key&apos;</span>).put({
  property: <span class="hljs-string">&apos;value&apos;</span>,
  object: {
    nested: <span class="hljs-literal">true</span>
  }
})
</code></pre>
<p>Saving primitives</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// strings</span>
gun.get(<span class="hljs-string">&apos;person&apos;</span>).path(<span class="hljs-string">&apos;name.first&apos;</span>).put(<span class="hljs-string">&apos;Alice&apos;</span>)

<span class="hljs-comment">// numbers</span>
gun.get(<span class="hljs-string">&apos;IoT&apos;</span>).path(<span class="hljs-string">&apos;temperature&apos;</span>).put(<span class="hljs-number">58.6</span>)

<span class="hljs-comment">// booleans</span>
gun.get(<span class="hljs-string">&apos;player&apos;</span>).path(<span class="hljs-string">&apos;alive&apos;</span>).put(<span class="hljs-literal">true</span>)
</code></pre>
<p>Using the callback</p>
<pre><code class="lang-javascript">gun.get(<span class="hljs-string">&apos;survey&apos;</span>).path(<span class="hljs-string">&apos;submission&apos;</span>).put(submission, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ack</span>)</span>{
  <span class="hljs-keyword">if</span>(ack.err){
    <span class="hljs-keyword">return</span> ui.show.error(ack.err)
  }
  ui.show.success(<span class="hljs-literal">true</span>)
})
</code></pre>
<h2 id="chain-context">Chain context</h2>
<p><code>gun.put</code> does not change the gun context.</p>
<pre><code class="lang-javascript">gun.get(<span class="hljs-string">&apos;key&apos;</span>).put(data) <span class="hljs-comment">/* same context as */</span> gun.get(<span class="hljs-string">&apos;key&apos;</span>)
</code></pre>
<h2 id="unexpected-behavior">Unexpected behavior</h2>
<p>You cannot save primitive values at the root level.</p>
<pre><code class="lang-javascript">Gun().put(<span class="hljs-string">&quot;oops&quot;</span>);
</code></pre>
<p>All data is normalized to a parent node.</p>
<pre><code class="lang-javascript">Gun().put({foo: <span class="hljs-string">&apos;bar&apos;</span>}); <span class="hljs-comment">// internally becomes...</span>
Gun().get(randomUUID).put({foo: <span class="hljs-string">&apos;bar&apos;</span>});

Gun().get(<span class="hljs-string">&apos;user&apos;</span>).path(<span class="hljs-string">&apos;alice&apos;</span>).put(data); <span class="hljs-comment">// internally becomes...</span>
Gun().get(<span class="hljs-string">&apos;user&apos;</span>).put({<span class="hljs-string">&apos;alice&apos;</span>: data});
<span class="hljs-comment">// An update to both user and alice happens, not just alice.</span>
</code></pre>
<p>You can save a gun chain reference,</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> ref = Gun().put({text: <span class="hljs-string">&apos;Hello world!&apos;</span>})
Gun().get(<span class="hljs-string">&apos;message&apos;</span>).path(<span class="hljs-string">&apos;first&apos;</span>).put(ref)
</code></pre>
<p>But you cannot save it inline.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> sender = Gun().put({name: <span class="hljs-string">&apos;Tom&apos;</span>})
<span class="hljs-keyword">var</span> msg = Gun().put({
  text: <span class="hljs-string">&apos;Hello world!&apos;</span>,
  sender: sender <span class="hljs-comment">// this will fail</span>
})
<span class="hljs-comment">// however</span>
msg.path(<span class="hljs-string">&apos;sender&apos;</span>).put(sender) <span class="hljs-comment">// this will succeed</span>
</code></pre>
<p>Be careful saving deeply nested objects,</p>
<pre><code class="lang-javascript">Gun().put({
  foo: {
    bar: {
      lol: {
        yay: <span class="hljs-literal">true</span>
      }
    }
  }
}):
</code></pre>
<p>For the most part, gun will handle this perfectly fine. It will attempt to automatically merge every nested object as a partial. However, if it cannot find data (due to a network failure, or a peer it has never spoken with) to merge with it will generate new random UUIDs. You are unlikely to see this in practice, because your apps will probably save data based on user interaction (with previously loaded data). But if you do have this problem, consider giving each one of your sub-objects a deterministic ID.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="constructor.html" class="navigation navigation-prev " aria-label="Previous page: Gun.constructor">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="get.html" class="navigation navigation-next " aria-label="Next page: gun.get">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"gun.put","level":"1.4.2","depth":2,"next":{"title":"gun.get","level":"1.4.3","depth":2,"path":"core-api/get.md","ref":"core-api/get.md","articles":[]},"previous":{"title":"Gun.constructor","level":"1.4.1","depth":2,"path":"core-api/constructor.md","ref":"core-api/constructor.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","github","video"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/gundb/gun"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"video":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/zwhitchcox/gun/edit/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"GunDb","gitbook":"3.2.2"},"file":{"path":"core-api/put.md","mtime":"2017-02-28T20:25:49.515Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-02-28T20:26:00.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

